"use strict";const gulp=require("gulp"),pump=require("pump"),watch=require("gulp-watch"),uglifyES=require("gulp-uglify-es").default,UGLIFY_OPTIONS={compress:{}};gulp.task("debug",["build"],function(){return watch("src/**/*.js",function(u){const l=u.history[0];return console.log("开始压缩：",l),gulp.src(l).pipe(uglifyES(UGLIFY_OPTIONS)).pipe(gulp.dest("lib")).on("end",()=>{console.log("压缩完成：",l)})})}),gulp.task("build",function(u){console.log("开始压缩..."),pump([gulp.src("src/**/*.js"),uglifyES(UGLIFY_OPTIONS),gulp.dest("lib")],()=>{console.log("压缩完成！"),u&&u()})});