const utils=require("../../utils/utils"),wxmlLint=require("../../linter/wxml"),lineRules=[e=>{const l=e.match(/<(movable-area|movable-view|cover-view|cover-image|map|audio|canmera)[^>]+/);return l?{source:l[0],rule:"不支持组件（如：`movable-area`、`movable-view`、`cover-view`、`cover-image`、`map`、`audio`、`canmera`等）"}:null}],fileRules=[(e,l)=>{const i=[];return e.replace(/<[^>]+wx:for=[^>]+wx:if=['"](.+)['"][^>]*>/g,r=>{let a=utils.calcLine(e,r);i.push({path:l,line:a,source:r,rule:"在同一个标签上，`wx:for`和`wx:if`不能同时使用"})}),i}];function lint(e="./src"){wxmlLint(e,fileRules,lineRules)}module.exports=lint;