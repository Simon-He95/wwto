const fs=require("fs"),readline=require("readline"),os=require("os"),gulp=require("gulp"),rename=require("gulp-rename");function codeLint(e={}){const n=e.source||"./src";gulp.src(n+"/**/*.wxss").pipe(rename(function(e){let n="";n="."==e.dirname?"./demo/58weicheshi_esc/"+e.basename+e.extname:"./demo/58weicheshi_esc/"+e.dirname+"/"+e.basename+e.extname,console.log(n+"运行代码异常");var i=fs.createReadStream(n),r=readline.createInterface({input:i}),o=1;r.on("line",e=>{var n="line"+o.toString()+":"+e;console.log(n+os.EOL),console.log(o,e),o++}),r.on("close",()=>{console.log("readline close...")})})),gulp.src(n+"/**/*.wxml").pipe(replace(/bind.*\?.*}}["']/gi,function(e,n){})).pipe(replace(/<.+wx:for.*\s*>/gi,function(e,n){replace(/<.+wx:if.*\s*>/gi)})).pipe(replace(/wx:for.*\?.*}}["']/gi,function(e,n){}))}function lintContainer(e,n){gulp.src(e).pipe()}module.exports=codeLint;